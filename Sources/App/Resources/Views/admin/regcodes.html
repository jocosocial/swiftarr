#extend("trunk"):
    #export("body"):
    	<div class="container-md ms-0 my-1">
			<div class="row">
    			<div class="col">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a href="/admin">Admin</a></li>
							<li class="breadcrumb-item active" aria-current="page">Registration Codes</li>
						</ol>
					</nav>
				</div>
			</div>
			<ul class="list-group">
				<li class="list-group-item">
					#(stats.allocatedCodes) Registration Codes Allocated
				</li>		
				<li class="list-group-item">
					#(stats.usedCodes) Registration Codes Used
				</li>		
				<li class="list-group-item">
					#(stats.unusedCodes) Registration Codes Not Yet Used
				</li>		
				<li class="list-group-item">
					#(stats.adminCodes) Registration Codes Created by Admin
				</li>		
			</ul>
			<div class="row my-2">
				<div class="col">
					<b>Search for a Registration Code</b>
				</div>
			</div>
			<div class="row my-2">
				<form class="d-flex my-1">
					<input class="form-control" type="search" name="search" placeholder="Reg Code" value="#(regCodeSearchString)" aria-label="Search" autocapitalize="off" required>
					<button class="btn btn-primary ms-2" type="submit">Search</button>
				</form>
			</div>
			<div class="row my-2">
				<div class="col">
					#(searchResults)
				</div>
			</div>
			#if(count(searchResultUsers) > 0):
				<div class="row my-2">
					<div class="col">
						All user accounts assocaiated with this reg code:
					</div>
				</div>
				#for(header in searchResultUsers):
					<div class="row mb-2 mx-0">
						<div class="col col-auto border">
							#avatar(header) #userByline(header)
						</div>				
					</div>
				#endfor
			#endif
			<div class="row my-2">
				<div class="col">
					<b>Search for a User</b>
				</div>
			</div>
			<div class="row my-2">
				<form class="ajax my-1">
					<div class="row mb-3">
						<div class="input-group">
							<span class="input-group-text" id="basic-addon1">@</span>
							<input type="text" class="form-control user-autocomplete" autofocus="true" 
									placeholder="Search for users here" 
									aria-label="participants" aria-describedby="basic-addon1" 
									autocapitalize="off" autocomplete="off"
									data-nameusage="seamail">
						</div>
					</div>
					<div class="row">
						<div class="col"><i>Enter partial username above to find a user, then tap on a match to see registration code info</i></div>
					</div>
					<ul class="list-group mb-2 mx-0" id="name_suggestions">
					</ul>
					<div class="alert alert-danger mt-3 d-none" role="alert">
					</div>				
				</form>
			</div>
		</div>
		
		<template id="potentialMemberTemplate">
			<li class="list-group-item list-group-item-action swiftarr-namecell">
				<div class="row justify-content-between align-items-baseline">
					<div class="col col-auto username-here"></div>
					<div class="col col-auto">
						<a class="btn btn-sm btn-primary append-userid-to-href" href="/admin/regcodes/showuser/">View</a>
					</div>
				</div>
				<div class="row text-end text-danger error-display d-none">
					Could not show user: <span class="errortext"></span>
				</div>
			</li>
		</template>
    #endexport
#endextend
